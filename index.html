<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FunText Test</title>
  </head>
  <body>
    <div id="container1">Container number 1!</div>
    <div id="container2">Container number 2!</div>
    <div id="container3">Container number 3!</div>

    <p id="counter"></p>

    <script>
      var exports = {};
    </script>
    <script src="/lib/index.js"></script>
    <script>
      const duration = 5;
      const syncDuration = 10;

      const counter = document.getElementById("counter");

      let startTime = performance.now();
      function animate() {
        let currentTime = performance.now();
        counter.innerText =
          parseInt((currentTime - startTime) / 1000) % syncDuration;

        requestAnimationFrame(animate);
      }

      // Start the animation loop
      animate();

      const container1 = document.getElementById("container1");
      const funtext1 = new FunText(container1, [
        {
          scope: "letter",
          property: "color",
          steps: ["red", "blue"],
          iteration: "infinite",
          duration: duration,
          sync: {
            duration: syncDuration,
            location: 20,
          },
        },
        {
          scope: "word",
          property: "opacity",
          steps: "0.5",
          duration: 1,
          offset: 0.3,
          iteration: "infinite",
        },
      ]);
      funtext1.mount();

      const container2 = document.getElementById("container2");
      const funtext2 = new FunText(container2, [
        {
          scope: "letter",
          property: "color",
          steps: ["green", "yellow"],
          iteration: "infinite",
          duration: duration,
          sync: {
            duration: syncDuration,
            location: 50,
          },
        },
      ]);
      funtext2.mount();

      const container3 = document.getElementById("container3");
      const funtext3 = new FunText(container3, [
        {
          scope: "letter",
          property: "color",
          steps: ["#111", "#eee"],
          iteration: "infinite",
          duration: duration,
          sync: {
            duration: syncDuration,
            location: 80,
          },
        },
      ]);
      funtext3.mount();
    </script>

    <style>
      #counter {
        filter: blur(0.5px);
        translate: scaleX();
      }
    </style>
  </body>
</html>
